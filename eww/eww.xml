<eww>
  <definitions>
    
    <def name="clock">
      <box orientation="v" space-evenly="false">
        <box orientation="h" class="time" space-evenly="true">
          <box class="hour">{{hour}}</box>
          <box class="minute">{{minute}}</box>
        </box>
        <box class="day">{{date_string}}</box>
        <box class="time-sydney">Sydney: {{hour_aust}}:{{minute_aust}}</box>
      </box>
    </def>

    <def name="sliders">
      <box orientation="v" space-evenly="false" class="sliders">
        <box orientation="h" class="slider-vol" space-evenly="false">
          <box class="icon">ïŸŠ</box>
          <scale min="0" max="101" value="{{volume}}" onchange="pulseaudio-ctl set {}%"/>
          <box class="label">{{volume}}</box>
        </box>
        <box orientation="h" class="slider-bright" space-evenly="false">
          <box class="icon">ï—Ÿ</box>
          <scale min="0" max="101" value="{{bright}}" onchange="brightnessctl s {}%"/>
          <box class="label">{{bright}}</box>
        </box>
        <box orientation="h" class="slider-ram" space-evenly="false">
          <box class="icon">ï¡š</box>
          <scale min="0" active="false" max="101" value="{{ram-used}}"/>
          <box class="label">{{ram-used}}</box>
        </box>
        <box orientation="h" class="slider-battery" space-evenly="false">
          <box class="icon">ðŸ”‹</box>
          <scale min="0" active="false" max="101" value="{{battery-remaining}}"/>
          <box class="label">{{battery-remaining}}</box>
        </box>
      </box>
    </def>
    <def name="powermenu">
       <box orientation="h" halign="center" class="sysbtn" space-evenly="true">
          <button class="shutdown" onclick="poweroff">p</button> 
          <button class="reboot" onclick="reboot">r</button>
          <button class="suspend" onclick="sleep">s</button>
          <button class="lock" onclick="~/.scripts/lock-screen">l</button>
          <button class="exit" onclick="eww close powermenu">x</button>
        </box>
    </def>

  <def name="together">
       <box orientation="v" halign="center" space-evenly="true">
          <clock />
          <sliders />
          <powermenu />
        </box>
    </def>
  </definitions>

  <variables>
        <!--Date vars-->
    <script-var name="date_string" interval="5m">date "+%Y.%j: %A, %d %B"</script-var>
    <script-var name="minute" interval="1s">date "+%M"</script-var>
    <script-var name="hour" interval="1s">date "+%H"</script-var>
    <script-var name="minute_aust" interval="1s">TZ='Australia/Sydney' date "+%M"</script-var>
    <script-var name="hour_aust" interval="1s">TZ='Australia/Sydney' date "+%H"</script-var>

    <!--Big brain RAM vars-->
    <script-var name="ram-used" interval="5s">~/.config/eww/scripts/getram</script-var>
    <script-var name="volume" interval="1s">~/.scripts/volume level</script-var>
    <script-var name="bright" interval="3s">~/.scripts/brightness level</script-var>
    <!--Battery charge vars-->
    <script-var name="battery-remaining" interval="1m">cat '/sys/class/power_supply/BAT1/capacity'</script-var>
    <script-var name="bat-icon" interval="2m">~/.scripts/battery icon</script-var>
  </variables>

  <windows>
    <window name="clock">
      <geometry x="10px" y="10px" width="0px" height="0px"/>
      <widget><clock/></widget>
    </window>
    <window name="sliders">
      <geometry anchor="top center" x="0%" y="10px" width="0px" height="0px"/>
      <widget><sliders/></widget>
    </window>
    <window name="powermenu" focusable="true">
      <geometry x="35%" y="20%" width="30%" height="40%"/>
      <widget><powermenu/></widget>
    </window>
    <window name="together" focusable="true">
      <geometry x="35%" y="20%" width="30%" height="40%"/>
      <widget><together/></widget>
    </window>
  </windows>
</eww>
