#
# dotphiles : https://github.com/dotphiles/dotphiles
#
# Sets dotzsh options.
#
# Authors:
#   Ben O'Hara <bohara@gmail.com>
#

# debug: see with `dzinfo`
##zstyle ':dotzsh:load' timing 'yes'
##zstyle ':dotzsh:module:*' timing 'yes'

# # Set the Zsh modules to load (man zshmodules).
# zstyle ':dotzsh:load' zmodule 'stat'

# # Set the Zsh functions to load (man zshcontrib).
# zstyle ':dotzsh:load' zfunction 'zargs' 'zmv'

# # Set the dotzsh modules to load (browse modules).
# # The order matters.
# zstyle ':dotzsh:load' dzmodule \
#   'gnu-utility' \
#   'environment' \
#   'terminal' \
#   'editor' \
#   'history' \
#   'utility' \
#   'completion'
# #  'theme'

# ### Global settings
# # Color output (auto set to 'no' on dumb terminals).
# zstyle ':dotzsh:module:*' color 'yes'
# # Setup aliases for modules (disable per module below).
# zstyle ':dotzsh:module:*' aliases 'yes'
# # Set case-sensitivity for completion, history lookup, etc.
# zstyle ':dotzsh:module:*' case-sensitive 'no'

# ### Environment module
# # Set which PAGER to use less or more
# zstyle ':dotzsh:module:environment' pager 'less'
# # Enable mouse scrolling in less, add the following to *zshrc*
# zstyle ':dotzsh:module:environment:pager:less' mousescroll 'false'

# ### Terminal Module
# # Auto set the tab and window titles.
# zstyle ':dotzsh:module:terminal' auto-title 'yes'

# ### Editor module
# # Set the key mapping style to 'emacs' or 'vi'.
# zstyle ':dotzsh:module:editor' keymap 'emacs'
# # Set EDITOR to 'emacs' or 'vi'.
# zstyle ':dotzsh:module:editor' editor 'vi'
# # Auto convert .... to ../..
# #zstyle ':dotzsh:module:editor' dot-expansion 'yes'

# ### Utility Module
# # Disable `diff` highlighting
# ##zstyle ':dotzsh:module:utility:diff' color 'no'
# # Disable `wdiff` highlighting
# ##zstyle ':dotzsh:module:utility:wdiff' color 'no'
# # Disable `make` highlighting
# ##zstyle ':dotzsh:module:utility:make' color 'no'

# ### Completion module
# # Expand global aliases automatically
# #zstyle ':dotzsh:module:completion' expand-global-aliases 'yes'

# ### SSH module
# zstyle ':dotzsh:module:ssh:agent' forwarding 'yes'
# zstyle ':dotzsh:module:ssh:aliases' hosts 'yes'
# ##zstyle ':dotzsh:module:ssh:agent' identities 'id_rsa' 'id_rsa2' 'id_github'

# ### GNUPG module
# # Enable ssh-agent protocol emulation for gpg-agent
# ##zstyle ':dotzsh:module:gnupg' agent-ssh-support 'yes'

# ### OSX module
# # Add aliases for Applications
# ##zstyle ':dotzsh:module:osx' launcher 'yes'
# # Open/Resume temrinal in correct dir
# ##zstyle ':dotzsh:module:osx' terminal-resume 'yes'

# ### Git module
# # Disable all git aliases
# ##zstyle ':dotzsh:module:git' aliases 'no'

# ### TMUX module
# # Auto start a session when Zsh is launched.
# # Setting it to 'local' only starts a session for local terminals.
# # Setting it to 'remote' only starts a session for SSH connections.
# ##zstyle ':dotzsh:module:tmux' auto-start 'no'
# #zstyle ':dotzsh:module:tmux:aliases' tmuxinator 'yes'

# ### Syntax Highlighting module
# zstyle ':dotzsh:module:syntax-highlighting' highlighters 'main' 'brackets' 'pattern' \
# #  'cursor' 'root' \

# ### Theme module
# # Set default theme to load.
# # Setting it to 'random' loads a random theme.
# # Auto set to 'off' on dumb terminals.
# zstyle ':dotzsh:module:theme' theme 'dotphiles'
# ### Set custom theme based on hostname or domain
# # zstyle ':dotzsh:module:theme:hostname:your-host-here' theme 'dotphiles' 'soldark' 'magenta'
# # zstyle ':dotzsh:module:theme:hostname:your-other-host-here' theme 'dotphiles' 'soldark' 'violet'
# # zstyle ':dotzsh:module:theme:domain:your-domain-here' theme 'dotphiles' 'soldark' 'orange'

# ### Load dotzsh
# DOTZSH=~/.dotphiles/zsh/dotzsh
# source "$DOTZSH/init.zsh"

############################
### Old zsh with oh-my-zsh
############################

# Path to your oh-my-zsh configuration.
ZSH=/usr/share/oh-my-zsh
ZSH_CUSTOM=/home/ross/.config/zsh

# Set name of the theme to load.
# Look in ~/.oh-my-zsh/themes/
# Optionally, if you set this to "random", it'll load a random theme each
# time that oh-my-zsh is loaded.
#ZSH_THEME="agnoster"

# Comment this out to disable weekly auto-update checks
DISABLE_AUTO_UPDATE="true"

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
plugins=(systemd git-extras rsync nyan)

source $ZSH/oh-my-zsh.sh
#source $ZSH_CUSTOM/themes/ross.zsh-theme

# Pimp my prompt
#PROMPT="%{$fg[magenta]%}%n@%m %1~$%{$reset_color%} "
ZSH_THEME_GIT_PROMPT_PREFIX="%{$fg[yellow]%} on "
ZSH_THEME_GIT_PROMPT_SUFFIX="%{$fg[magenta]%}"
ZSH_THEME_GIT_PROMPT_DIRTY=" ✗"
ZSH_THEME_GIT_PROMPT_UNTRACKED="?"
ZSH_THEME_GIT_PROMPT_CLEAN=" ✔"
PROMPT='%{$fg[magenta]%}%n@%m %1~$(git_prompt_info)$%{$reset_color%} '


#Add my misc scripts to the path, and the current directory
export PATH=`echo $PATH`:~/.scripts:/home/ross/.gem/ruby/1.9.1/bin:.

# Custom completions
fpath=($ZSH_CUSTOM/completion $fpath)

#disable annoying autocorrect
unsetopt correct

#no tabs when tabbing
zstyle ':completion:*' insert-tab false

#change the default editor to nano
export EDITOR="nano"
#tell wine where opengl is
export LIBGL_DRIVERS_PATH=/usr/lib32/xorg/modules/dri

#for automatic proxy handling
export http_proxy="http://localhost:8888/"
export https_proxy="https://localhost:8888/"
export ftp_proxy="localhost:8888"
export no_proxy="localhost,127.0.0.1,localaddress,usyd.edu.au"
function proxyoff(){
     unset HTTP_PROXY
     unset http_proxy
     unset HTTPS_PROXY
     unset https_proxy
     unset FTP_PROXY
     unset ftp_proxy
     echo -e "\nProxy environment variable removed."
 }
 
# enable extra tab completions
#complete -cf sudo
#complete -cf man
compctl -c xrun
compctl -k "(help mount unmount ssh)" bari como
compctl -k "(help vnc vnc-remote ssh remote uni xbmc openbox mount unmount refresh_mount)" artemis
compctl -k "(help up down mute unmute toggle level)" volume
compctl -k "(inc dec level)" keyboard_backlight
compctl -k "(help status uni home default)" proxies px
compctl -k "(help status on mirror off toggle auto wallpaper)" screens

source ~/.zalias