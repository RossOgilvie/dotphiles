###############
## Set-up
###############

## This enables window transparency
# compton -cCfF &
# picom -b --detect-client-opacity -D 5 -f --corner-radius 10 --round-borders 1 --backend glx

## Turn down the brightness
if [[ $HOST == "aion" ]]; then
    sudo light -S 30 &
else
    sudo light -S 50 &
fi

## Turn on the numlock
numlockx on &

## Start a daemon script that sets up keyboards
/home/ross/.scripts/keyboard setup hidden &

## Enable my wicked triple finger swipe gestures
# libinput-gestures-setup start &

## set correct pointer for wm windows
xsetroot -cursor_name left_ptr &

## start the eww widgets daemon
eww daemon &

## set up screen scaling
if [[ $HOST == "aion" ]]; then
# First we tell programs using Xresources that its x2 higher (192 dpi)
xrdb -merge ~/.dotphiles/xinit/Xresources &
# We also tell GTK apps to double scale
export GDK_SCALE=2
# Sadly, GTK apps also apply Xresources to text, so set this to undo one of these
# ie x2 x2 x0.5 = x2
export GDK_DPI_SCALE=0.5
# Qt should work if you just tell it to
export QT_AUTO_SCREEN_SCALE_FACTOR=1
fi

# Qt use the same theme as gtk2
export QT_QPA_PLATFORMTHEME=gtk2

## Set up the screens and then lock
#(/home/ross/.scripts/monitor off; /home/ross/.scripts/lock-screen) &
(/home/ross/.scripts/wallpaper random; /home/ross/.scripts/lock-screen) &
